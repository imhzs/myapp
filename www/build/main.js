webpackJsonp([28],{156:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(15),a=(n.n(o),n(66)),i=n(88),s=n(106),c=function(e){Object(r.__extends)(t,e);function t(t){var n=e.call(this,t)||this;return n.http=t,n.subject=new o.Subject,n}return t.prototype.VerifyId=function(e,t,n){return this.SetParam("idcardNo",e),this.SetParam("name",t),n&&this.SetParam("mobile",n),this.Post("kpay/api/idcard/auth")},t.prototype.GetProfitToday=function(){return this.Post("kpay/api/user/myprofit/today")},t.prototype.GetCardList=function(){var e=this;return this.Post("kpay/api/bankcard/list").map(function(t){e.updateCards(t.data)}).subscribe(function(e){console.log(e)},function(e){console.log(e)})},Object.defineProperty(t.prototype,"currentCards",{get:function(){return this.subject.asObservable()},enumerable:!0,configurable:!0}),t.prototype.updateCards=function(e){this.subject.next(s.concat(new Array,e))},t.prototype.SetPrimCard=function(e){return this.SetParam("cardId",e),this.Post("kpay/api/bankcard/setPrimary")},t.prototype.AddCreditCard=function(e,t){return this.SetParam("cardNo",e),this.SetParam("mobile",t),this.Post("kpay/api/bankcard/addCredit")},t.prototype.AddDeposiCard=function(e,t,n,r,o){return this.SetParam("cardNo",e),this.SetParam("bankName",t),this.SetParam("bankNo",n),this.SetParam("branchName",r),this.SetParam("mobile",o),this.Post("kpay/api/bankcard/addDeposit")},t.prototype.DelCard=function(e){return this.SetParam("cardId",e),this.Post("kpay/api/bankcard/del")},t.prototype.GetTolBanks=function(){return this.Post("kpay/api/bank/info")},t.prototype.GetBranchBanks=function(e){return this.SetParam("name",e),this.Post("kpay/api/bank/list")},t.prototype.GetAvaCash=function(e){return this.SetParam("amount",e),this.Post("kpay/api/cash/cashback/available")},t.prototype.GetBankPage=function(e,t,n,r){return this.SetParam("cardId",e),this.SetParam("enterCardId",t),this.SetParam("amount",Math.round(100*n)),this.SetParam("token",i.a.getToken()),r&&this.SetParam("cashbackId",r),this.SetResponseType("text"),this.Post("kpay/api/trade/quickPay/request")},t.prototype.GetVerifyode=function(e,t,n,r,o,a){return this.SetParam("acctNo",e),this.SetParam("cvn2",t),this.SetParam("amount",Math.round(100*o)),this.SetParam("mobile",r),this.SetParam("expDate",n),a&&this.SetParam("cashbackId",a),this.Post("kpay/api/trade/quickPay/sendVericode")},t.prototype.ConfirmResult=function(e,t){return this.SetParam("orderNo",e),this.SetParam("smsCode",t),this.Post("kpay/api/trade/quickPay/confirm")},t}(a.a)},163:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l});var r=n(1),o=(n(130),n(87),n(285)),a=n.n(o),i=n(66),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=n(106),d="bankcard_front",l=function(e){Object(r.__extends)(t,e);function t(t,n,r){var o=e.call(this,t)||this;return o.http=t,o.camera=n,o.fileTransfer=r,o.targetWidth=800,o.targetHeight=600,o}return t.prototype.OcrUpload=function(e,t,n){return s(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,this.PostFile("kpay/api/ocr/upload",e,t,{type:n})];case 1:return[2,r.sent()]}})})},t.prototype.IdentityAuth=function(e,t){return s(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,this.PostFile("kpay/api/ocr/idcard","file",e,{type:t})];case 1:return[2,n.sent()]}})})},t.prototype.PostFiles=function(e){return s(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return[4,this.PostByXMLHttpReq(e).then(function(e){return e})];case 1:return 1===(t=n.sent()).code?[2,t.data]:(App.ShowError(t.msg),[2,!1])}})})},t.prototype.PostFile=function(e,t,n,r){return s(this,void 0,void 0,function(){var o,a;return c(this,function(i){switch(i.label){case 0:for(o in r)this.SetParam(o,r[o]);return this.SetParam(t,n),window.cordova?[4,this.PostByFileTransfer(e,t,n,r).then(function(e){return e}).catch(function(e){App.ShowToast(e)})]:[3,2];case 1:return a=i.sent(),[3,4];case 2:return[4,this.PostByXMLHttpReq(e,t,n,r).then(function(e){return e}).catch(function(e){App.ShowToast(e)})];case 3:a=i.sent(),i.label=4;case 4:return 1===a.code?[2,a.data]:(App.ShowError(a.msg),[2,!1])}})})},t.prototype.showAddImage=function(){var e=this;return new Promise(function(t,n){if(window.cordova)new Promise(function(t,n){App.ShowActionSheet({title:"添加图片",buttons:[{text:"相册",handler:function(){t(e.camera.PictureSourceType.PHOTOLIBRARY)}},{text:"相机",handler:function(){t(e.camera.PictureSourceType.CAMERA)}},{text:"取消",role:"cancel",handler:function(){n()}}]})}).then(function(n){if(window.cordova){e.camera.getPicture({quality:50,sourceType:n,saveToPhotoAlbum:!1,correctOrientation:!0,targetWidth:e.targetWidth,targetHeight:e.targetHeight}).then(function(e){if(e.indexOf("?")>-1){var n=e.match(new RegExp(/[^?]+/,"ig"));n.length>0&&(e=n[0])}t({file:e,base64:e,blob:e})})}}).catch(function(e){console.log("Camera failed."),App.ShowToast("获取图片失败"),n(e)});else{var r=document.createElement("input");r.type="file",r.accept="image/png,image/jpeg,image/jpg,image/x-png",r.click(),r.onchange=function(){console.log(r.files[0]),App.ShowLoading("处理中"),a()(r.files[0],{quality:.6,width:e.targetWidth,height:e.targetHeight}).then(function(n){var o=e.dataURLtoFile(n.base64,r.files[0].name),a={file:o,base64:n.base64,blob:window.URL.createObjectURL(o)};t(a)}).catch(function(e){console.log("LRZ: Compress image failed."),console.log(e)}).always(function(){App.HideLoading()})}}})},t.prototype.dataURLtoBlob=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new Blob([a],{type:n})},t.prototype.dataURLtoFile=function(e,t){for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[1]),a=o.length,i=new Uint8Array(a);a--;)i[a]=o.charCodeAt(a);return new File([i],t,{type:r})},t.prototype.PostByFileTransfer=function(e,t,n,r){var o=this;return new Promise(function(a,i){var s=o.BaseUrl+"/"+e;if(window.cordova){var c={fileKey:t,fileName:n,headers:{Authorization:o.getToken}};r&&(c.params=r);o.fileTransfer.create().upload(n,s,c).then(function(e){a(JSON.parse(e.response))}).catch(function(e){App.ShowToast("上传失败"),i(e)})}})},t.prototype.PostByXMLHttpReq=function(e,t,n,r){return s(this,void 0,void 0,function(){var o=this;return c(this,function(a){return[2,new Promise(function(a,i){var s=new FormData;u.keys(r).length>0&&u.forEach(r,function(e,t){s.append(t,e)});var c=encodeURI(o.BaseUrl+"/"+e);App.ShowLoading();var d=new XMLHttpRequest;d.open("GET",window.URL.createObjectURL(n),!0),d.responseType="blob",d.onload=function(e){if(200!=d.status)App.ShowError("您的浏览器不支持Blob"),console.error(e,d),i(e);else{var r=d.response,u=new XMLHttpRequest,l=n.type.split("/")[1],p=(new Date).getTime()+"."+l;s.append(t,r,p),u.onloadend=function(){App.HideLoading()},u.ontimeout=function(){App.HideLoading()},u.onreadystatechange=function(){4===u.readyState&&(200===u.status?a(JSON.parse(u.response)):i(u))},u.open("POST",c,!0),u.setRequestHeader("Authorization",o.getToken),u.send(s)}},d.send()})]})})},t}(i.a)},164:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function(e){Object(r.__extends)(t,e);function t(t){var n=e.call(this,t)||this;return n.http=t,n}return t.prototype.GetCashList=function(){return this.Post("kpay/api/cash/getCashList")},t.prototype.GetCashDetail=function(e){return this.SetParam("id",e),this.Post("kpay/api/cash/getCashDetail")},t.prototype.GetVoucherList=function(){return this.Post("kpay/api/cash/cashback/list")},t.prototype.GetMyCustomer=function(){return this.Post("kpay/api/user/mycustomer")},t.prototype.GetCashBack=function(){return this.Post("kpay/api/trade/list")},t.prototype.GetVipList=function(){return this.Post("kpay/api/package/list")},t.prototype.BuyVip=function(e){return this.SetParam("packId",e),this.Post("kpay/api/package/buy",{packId:e})},t}(n(66).a)},185:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=185},212:function(e,t,n){var r={"../pages/auth/auth.module.ngfactory":[400,17],"../pages/findpassword/findpassword.module.ngfactory":[403,16],"../pages/home/addcreditcard/addcreditcard.module.ngfactory":[401,3],"../pages/home/adddeposit/adddeposit.module.ngfactory":[402,0],"../pages/home/branchcard/branchcard.module.ngfactory":[404,9],"../pages/home/cardinfor/cardinfor.module.ngfactory":[405,15],"../pages/home/changecards/changecards.module.ngfactory":[406,4],"../pages/home/checkout/checkout.module.ngfactory":[407,18],"../pages/home/confirminfo/confirminfo.module.ngfactory":[408,23],"../pages/home/creditcard/creditcard.module.ngfactory":[409,2],"../pages/home/finalpay/finalpay.module.ngfactory":[410,1],"../pages/home/home.module.ngfactory":[411,27],"../pages/home/listofbank/listofbank.module.ngfactory":[412,8],"../pages/home/resetpassword/resetpassword.module.ngfactory":[413,14],"../pages/login/login.module.ngfactory":[414,13],"../pages/modifypassword/modifypassword.module.ngfactory":[415,12],"../pages/register/register.module.ngfactory":[416,11],"../pages/setpassword/setpassword.module.ngfactory":[417,10],"../pages/start/start.module.ngfactory":[418,24],"../pages/tabs/tabs.module.ngfactory":[419,25],"../pages/thirdparty/thirdparty.module.ngfactory":[421,26],"../pages/ucenter/VIPmembers/VIPmembers.module.ngfactory":[427,22],"../pages/ucenter/mycard/mycard.module.ngfactory":[420,7],"../pages/ucenter/records/detail/recorddetail.module.ngfactory":[422,6],"../pages/ucenter/records/records.module.ngfactory":[423,5],"../pages/ucenter/ucenter.module.ngfactory":[424,21],"../pages/ucenter/uinfo/uinfo.module.ngfactory":[425,20],"../pages/ucenter/usetup/usetup.module.ngfactory":[426,19]};function o(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}o.keys=function(){return Object.keys(r)},o.id=212,e.exports=o},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};n.d(r,"tabsPage",function(){return L}),n.d(r,"homePage",function(){return M}),n.d(r,"creditCardPage",function(){return H}),n.d(r,"cardInforPage",function(){return E}),n.d(r,"finalPayPage",function(){return F}),n.d(r,"confirmInfoPage",function(){return j}),n.d(r,"addCreditCardPage",function(){return U}),n.d(r,"changeCardsPage",function(){return x}),n.d(r,"addDepositPage",function(){return D}),n.d(r,"listBankPage",function(){return R}),n.d(r,"branchcardPage",function(){return V}),n.d(r,"startPage",function(){return G}),n.d(r,"modifyPasswordPage",function(){return q}),n.d(r,"findPasswordPage",function(){return K}),n.d(r,"resetPasswordPage",function(){return X}),n.d(r,"checkoutPage",function(){return W}),n.d(r,"ucenterPage",function(){return J}),n.d(r,"loginPage",function(){return z}),n.d(r,"thirdLoginPage",function(){return Y}),n.d(r,"setPasswordPage",function(){return Q}),n.d(r,"authPage",function(){return Z}),n.d(r,"recordsPage",function(){return $}),n.d(r,"recordDetailPage",function(){return ee}),n.d(r,"uinfoPage",function(){return te}),n.d(r,"usetupPage",function(){return ne}),n.d(r,"vipMembersPage",function(){return re}),n.d(r,"myCardPage",function(){return oe}),n.d(r,"registerPage",function(){return ae});var o=n(35),a=n(0),i=n(1),s=(n(154),n(234)),c=n(34),u=n(244),d=n(246),l=n(151),p=n(87),f=n(130),h=n(152),g=n(42),y=function(){function e(){}return e.show=function(){g.a.Assigned(navigator.splashscreen)?navigator.splashscreen.show():console.error("SplashScreen Plugin not Installed.")},e.hide=function(){g.a.Assigned(navigator.splashscreen)?navigator.splashscreen.hide():console.error("SplashScreen Plugin not Installed.")},e}(),m=function(){function e(){}return e.overlaysWebView=function(e){void 0===e&&(e=!0),g.a.Assigned(window.StatusBar)?window.StatusBar.overlaysWebView(e):console.error("StatusBar Plugin not Installed.")},e.styleDefault=function(){g.a.Assigned(window.StatusBar)?window.StatusBar.styleDefault():console.error("StatusBar Plugin not Installed.")},e.styleLightContent=function(){g.a.Assigned(window.StatusBar)?window.StatusBar.styleLightContent():console.error("StatusBar Plugin not Installed.")},e.styleBlackTranslucent=function(){g.a.Assigned(window.StatusBar)?window.StatusBar.styleBlackTranslucent():console.error("StatusBar Plugin not Installed.")},e.styleBlackOpaque=function(){g.a.Assigned(window.StatusBar)?window.StatusBar.styleBlackOpaque():console.error("StatusBar Plugin not Installed.")},e.backgroundColorByName=function(e){g.a.Assigned(window.StatusBar)?window.StatusBar.backgroundColorByName(e):console.error("StatusBar Plugin not Installed.")},e.backgroundColorByHexString=function(e){g.a.Assigned(window.StatusBar)?window.StatusBar.backgroundColorByHexString(e):console.error("StatusBar Plugin not Installed.")},e.hide=function(){g.a.Assigned(window.StatusBar)?window.StatusBar.hide():console.error("StatusBar Plugin not Installed.")},e.show=function(){g.a.Assigned(window.StatusBar)?window.StatusBar.show():console.error("StatusBar Plugin not Installed.")},Object.defineProperty(e,"isVisible",{get:function(){return g.a.Assigned(window.StatusBar)?window.StatusBar.isVisible:(console.error("StatusBar Plugin not Installed."),!1)},enumerable:!0,configurable:!0}),e}(),b=n(5),P=n(12),w=n(95),v=n(78),S=n(93),k=n(85),_=n(76),C=n(94),A=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){A(t,e);function t(t){var n=this.constructor;void 0===t&&(t="");var r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return t.Throw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw this.Create.apply(this,e)},t.Create=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new((n=this).bind.apply(n,[void 0].concat(e)));var n},t.prototype.toString=function(){return this.name+": "+this.message},t}(Error),B=function(e){A(t,e);function t(t){void 0===t&&(t="");return""===t&&(t="e_abort"),e.call(this,t)||this}return t}(I),T=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},N=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},O=function(){function e(e){this.Injector=e,this.Instance=e.get(P.a),this.Platform=e.get(b.a),this.ToastCtrl=e.get(w.a),this.AlertCtrl=e.get(v.a),this.ModalCtrl=e.get(S.a),this.LoadingCtrl=e.get(k.a),this.ActionSheetCtrl=e.get(_.a),this.PopoverCtrl=e.get(C.a)}return Object.defineProperty(e.prototype,"IsAndroid",{get:function(){return this.Platform.is("android")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsIos",{get:function(){return this.Platform.is("ios")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsWindowPhone",{get:function(){return this.Platform.is("wp")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Nav",{get:function(){return this.Instance.getActiveNavs()[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ActiveView",{get:function(){return this.Nav.getActive(!0)},enumerable:!0,configurable:!0}),e.prototype.IconFont=function(e){return String.fromCharCode(e)},e.prototype.ShowError=function(e,t){return T(this,void 0,void 0,function(){var n,r,o;return N(this,function(i){switch(i.label){case 0:if(g.a.Assigned(t)||(t={}),Object(a.P)()&&(e instanceof Error?console.error(e.stack):(n=new Error,console.error(n.stack))),e instanceof B)return console.warn(e.message),[2];if(""===(r=g.a.IsString(e)?e:e instanceof Error?e.message:e instanceof I?e.message:""))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.ShowToast({message:r,position:t.position,duration:t.duration,cssClass:t.style})];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),console.log(o),[3,4];case 4:return[2]}})})},e.prototype.ShowModal=function(e,t,n){return T(this,void 0,void 0,function(){var r;return N(this,function(o){switch(o.label){case 0:return[4,(r=this.ModalCtrl.create(e,t,n)).present()];case 1:return o.sent(),[2,r]}})})},e.prototype.ShowAlert=function(e){return T(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return g.a.Assigned(e.enableBackdropDismiss)||(e.enableBackdropDismiss=!1),[4,(t=this.AlertCtrl.create(e)).present()];case 1:return n.sent(),[2,t]}})})},e.prototype.ShowToast=function(e){return T(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return g.a.Assigned(this.Toast)?[4,this.Toast.dismiss()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.Toast=this.ToastCtrl.create(e),this.Toast.onDidDismiss(function(){return t.Toast=void 0}),[4,this.Toast.present()];case 3:return n.sent(),[2,this.Toast]}})})},e.prototype.ShowLoading=function(e,t){return T(this,void 0,void 0,function(){var n=this;return N(this,function(r){switch(r.label){case 0:return g.a.Assigned(this.Loading)?[2]:(g.a.Assigned(e.spinner)||(e.spinner="ios"),this.IsManualHideLoading=!1,this.Loading=this.LoadingCtrl.create(e),this.Loading.onDidDismiss(function(){g.a.Assigned(n.Loading)&&(n.Loading=void 0),!n.IsManualHideLoading&&g.a.Assigned(t)&&t()}),[4,this.Loading.present()]);case 1:return r.sent(),[2,this.Loading]}})})},e.prototype.HideLoading=function(){return T(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(!g.a.Assigned(this.Loading))return[3,5];this.IsManualHideLoading=!0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.Loading.dismiss()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),console.log(e),[3,4];case 4:this.Loading=void 0,t.label=5;case 5:return[2]}})})},e.prototype.ShowActionSheet=function(e){return T(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return g.a.Assigned(e)||(e={}),[4,(t=this.ActionSheetCtrl.create(e)).present()];case 1:return n.sent(),[2,t]}})})},e.prototype.ShowPopover=function(e,t,n,r){return T(this,void 0,void 0,function(){var o;return N(this,function(a){switch(a.label){case 0:return[4,(o=this.PopoverCtrl.create(e,n,r)).present({ev:t})];case 1:return a.sent(),[2,o]}})})},e}(),L="TabsPage",M="HomePage",H="CreditCardPage",E="CardInforPage",F="FinalpayPage",j="ConfirminfoPage",U="AddCreditCardPage",x="ChangecardsPage",D="AddDepositPage",R="ListofbankPage",V="BranchcardPage",G="StartPage",q="ModifyPasswordPage",K="FindPasswordPage",X="ResetPasswordPage",W="CheckoutPage",J="UcenterPage",z="LoginPage",Y="ThirdPartyPage",Q="SetPasswordPage",Z="AuthPage",$="RecordsPage",ee="OrderDetailPage",te="UinfoPage",ne="UsetupPage",re="VIPmembersPage",oe="MyCardPage",ae="RegisterPage",ie=n(55),se=function(e){Object(i.__extends)(t,e);function t(t,n){var o=e.call(this,t)||this;return o.auth=n,o.UserInfo={},o.Cards=new Array,o.IsVip=!1,o.CanTrade=!0,o.CurrentCreditCards={},o.CurrentDepositCard={},o.pages=r,o.HardwareBackButtonDisabled=!1,o.BackButtonPressed=!1,window.App=o,o.Platform.ready().then(function(){o.Platform.registerBackButtonAction(function(){o.HardwareBackButtonDisabled||(App.Nav.canGoBack()?App.Nav.pop():o.BackButtonPressed?o.Platform.exitApp():(o.ShowToast("再按一次退出5u卡贝"),o.BackButtonPressed=!0,setTimeout(function(){o.BackButtonPressed=!1},2e3)))}),o.IsAndroid&&(window.addEventListener("native.keyboardshow",o.keyboardShowHandler.bind(o)),window.addEventListener("native.keyboardhide",o.keyboardHideHandler.bind(o))),o.auth.currentUser.subscribe(function(e){o.UserInfo=e})}),o}return t.prototype.keyboardShowHandler=function(e){window.scrollY<100&&window.scrollTo(0,e.keyboardHeight)},t.prototype.keyboardHideHandler=function(e){0!=window.scrollY&&window.scrollTo(0,0)},t.prototype.DisableHardwareBackButton=function(){this.HardwareBackButtonDisabled=!0},t.prototype.EnableHardwareBackButton=function(){this.HardwareBackButtonDisabled=!1},t.prototype.ShowToast=function(t){return t instanceof Object?e.prototype.ShowToast.call(this,t):e.prototype.ShowToast.call(this,{message:t,position:"middle",cssClass:"toast-default",duration:1500})},t.prototype.ShowLoading=function(t){return t instanceof Object?e.prototype.ShowLoading.call(this,t):e.prototype.ShowLoading.call(this,{spinner:"ios-small",content:t,cssClass:"loading-default"})},t.prototype.ShowError=function(t,n,r){return void 0===n&&(n=3e3),void 0===r&&(r="middle"),e.prototype.ShowError.call(this,t,{duration:n,position:r,style:"toast-error",prefix_lang:"hint."})},Object.defineProperty(t.prototype,"UserFace",{get:function(){if(g.a.Assigned(localStorage.getItem("imageface"))){return{backgroundImage:"url("+localStorage.getItem("imageface")+")"}}return null},enumerable:!0,configurable:!0}),t.prototype.IsReal=function(e){if(this.IsIdAuthed){if(!e)return;App.Nav.push(e)}else App.Nav.push(App.pages.authPage)},Object.defineProperty(t.prototype,"IsIdAuthed",{get:function(){return App.UserInfo.idAuthed>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsBankcardAuthed",{get:function(){return App.UserInfo.bankcardAuthed>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsCompleteAuthed",{get:function(){return this.IsIdAuthed&&this.IsBankcardAuthed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IconFace",{get:function(){return null===this.UserFace&&"男"===this.UserInfo.sex},enumerable:!0,configurable:!0}),t}(O),ce=function(){return function(e,t){var n=this;this.App=e,this.auth=t,this.rootPage="TabsPage",e.Platform.ready().then(function(){y.show(),m.hide(),m.overlaysWebView(!0),e.IsIos?m.styleBlackTranslucent():m.backgroundColorByHexString("#2D93F3")}).then(function(){y.hide(),m.show()}).then(function(){n.auth.shouldPassThrough||n.auth.GetUserData()})}}(),ue=n(164),de=n(156),le=n(163),pe=n(131),fe=n(305),he=n(306),ge=function(){function e(e,t,n,r){this.http=e,this.appVersion=t,this.fileTransfer=n,this.device=r,this.curVersion=0,this.App=window.App,this.file=new he.a,this.fileOpener=new fe.a}return e.prototype.appUpdate=function(){var e=this;App.IsAndroid&&(this.setCurVersion(),this.setUpdateInfo().then(function(){if(e.hasNewVersion()){App.ShowAlert({title:"版本升级",message:"发现新版本，是否升级？",buttons:[{text:"取消",role:"cancel",handler:function(){console.log("已取消升级")}},{text:"确定",handler:function(){e.download()}}]})}}).catch(function(e){console.log(e)}))},e.prototype.setUpdateInfo=function(){var e=this;return new Promise(function(t,n){e.http.get("http://58mpay.com/pay/update.xml").toPromise().then(function(n){console.log(n.text()),e.xml=n.text(),e.setVersion(parseInt(e.getFromXml("version"))),e.setApkUrl(e.getFromXml("url")),t()}).catch(function(e){n(e),console.log(e)})})},e.prototype.setVersion=function(e){this.version=e},e.prototype.setApkUrl=function(e){this.apkUrl=e},e.prototype.getFromXml=function(e){var t=this.xml.match("<("+e+")>([^<>]+)</"+e+">");return t.length>2?t[2]:""},e.prototype.setCurVersion=function(){var e=this;this.appVersion.getVersionCode().then(function(t){e.curVersion=parseInt(t)}).catch(function(e){console.log(e)})},e.prototype.hasNewVersion=function(){return this.curVersion>0&&this.curVersion<this.version},e.prototype.download=function(){var e=this,t=this.fileTransfer.create();this.showProcess(),t.onProgress(function(t){var n=t.loaded/t.total*100;e.showProcess(),n>99&&App.HideLoading()}),this.file.createFile(this.getStoragePath,"58pay.apk",!0).then(function(n){t.download(e.apkUrl,n.toInternalURL(),!0).then(function(t){e.fileOpener.open(t.toInternalURL(),"application/vnd.android.package-archive").then(function(e){console.log("打开成功")}).catch(function(e){console.log("打开文件失败"),console.log(e)}),App.HideLoading(),console.log("download complete: "+t.toURL())}).catch(function(e){console.log(e)})}).catch(function(e){console.log("创建文件失败"),console.log(e)})},e.prototype.showProcess=function(){App.ShowLoading({content:"下载中..."})},Object.defineProperty(e.prototype,"getStoragePath",{get:function(){return App.IsAndroid&&this.device.version>"7"?this.file.dataDirectory:this.file.externalDataDirectory},enumerable:!0,configurable:!0}),e}(),ye=function(){return function(){}}(),me=n(307),be=n(308),Pe=n(66),we=n(88),ve=function(){function e(){}return e.prototype.intercept=function(e,t){var n=e;if(!e.headers.has("Authorization")){var r=we.a.getToken();n=e.clone({headers:e.headers.set("Authorization","Bearer "+r)})}return t.handle(n).pipe(Object(be.catchError)(this.handleError)).pipe(Object(be.tap)(function(e){if(e instanceof c.h){if(e.body.code==Pe.a.SESSION_TIMEOUT){var t=we.a.getMobile(),n=we.a.getSecret();return g.a.Assigned(t)&&g.a.Assigned(n)?App.Nav.setPages([{page:App.pages.tabsPage},{page:App.pages.thirdLoginPage,params:{mobile:t,key:n}}]):App.Nav.setPages([{page:App.pages.tabsPage},{page:App.pages.loginPage}]),new me.ErrorObservable("登录超时")}if(e.body.code==Pe.a.REQ_FAIL)return g.a.Assigned(e.body.msg)&&App.ShowError(e.body.msg),new me.ErrorObservable("请求成功，返回失败值")}})).pipe(Object(be.catchError)(this.handleError))},e.prototype.handleError=function(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.log("Backend returned code "+e.status+", body was: "+e.error),new me.ErrorObservable("Something bad happened; please try again later.")},e}();Object(a.M)();var Se=function(){return function(){}}(),ke=n(60),_e=n(257),Ce=n(258),Ae=n(259),Ie=n(260),Be=n(261),Te=n(262),Ne=n(263),Oe=n(264),Le=n(265),Me=n(399),He=n(43),Ee=n(64),Fe=n(6),je=n(28),Ue=n(2),xe=n(11),De=n(36),Re=n(18),Ve=n(13),Ge=a.X({encapsulation:2,styles:[],data:{}});function qe(e){return a._19(0,[a._16(402653184,1,{nav:0}),(e()(),a.Z(1,0,null,null,2,"ion-nav",[],null,null,null,Me.b,Me.a)),a._15(6144,null,He.a,null,[Ee.a]),a.Y(3,4374528,[[1,4],["rootNavController",4]],0,Ee.a,[[2,Fe.a],[2,je.a],P.a,Ue.a,b.a,a.j,a.u,a.z,a.i,xe.l,De.a,[2,Re.a],Ve.a,a.k],{root:[0,"root"]},null)],function(e,t){e(t,3,0,t.component.rootPage)},null)}var Ke=a.V("ng-component",ce,function(e){return a._19(0,[(e()(),a.Z(0,0,null,null,1,"ng-component",[],null,null,null,qe,Ge)),a.Y(1,49152,null,0,ce,[se,ie.a],null,null)],null,null)},{},{},[]),Xe=n(17),We=n(133),Je=n(155),ze=n(21),Ye=n(132),Qe=n(19),Ze=n(41),$e=n(50),et=n(62),tt=n(51),nt=n(80),rt=n(135),ot=n(96),at=n(99),it=n(101),st=n(100),ct=n(150),ut=n(49),dt=n(245),lt=n(233),pt=n(134),ft=n(38),ht=n(126),gt=n(136),yt=a.W(Se,[ke.b],function(e){return a._10([a._11(512,a.i,a.S,[[8,[_e.a,Ce.a,Ae.a,Ie.a,Be.a,Te.a,Ne.a,Oe.a,Le.a,Ke]],[3,a.i],a.s]),a._11(5120,a.r,a._9,[[3,a.r]]),a._11(4608,Xe.k,Xe.j,[a.r,[2,Xe.s]]),a._11(5120,a.b,a._0,[]),a._11(5120,a.p,a._6,[]),a._11(5120,a.q,a._7,[]),a._11(4608,o.c,o.q,[Xe.c]),a._11(6144,a.D,null,[o.c]),a._11(4608,o.f,We.a,[]),a._11(5120,o.d,function(e,t,n,r,a){return[new o.k(e,t),new o.o(n),new o.n(r,a)]},[Xe.c,a.u,Xe.c,Xe.c,o.f]),a._11(4608,o.e,o.e,[o.d,a.u]),a._11(135680,o.m,o.m,[Xe.c]),a._11(4608,o.l,o.l,[o.e,o.m]),a._11(6144,a.B,null,[o.l]),a._11(6144,o.p,null,[o.m]),a._11(4608,a.G,a.G,[a.u]),a._11(4608,o.h,o.h,[Xe.c]),a._11(4608,o.i,o.i,[Xe.c]),a._11(4608,c.j,c.o,[Xe.c,a.w,c.m]),a._11(4608,c.p,c.p,[c.j,c.n]),a._11(5120,c.a,function(e){return[e,new ve]},[c.p]),a._11(4608,c.l,c.l,[]),a._11(6144,c.k,null,[c.l]),a._11(4608,c.i,c.i,[c.k]),a._11(6144,c.b,null,[c.i]),a._11(5120,c.f,c.q,[c.b,[2,c.a]]),a._11(4608,c.c,c.c,[c.f]),a._11(5120,Xe.f,Je.c,[Xe.q,[2,Xe.a],Ue.a]),a._11(4608,Xe.e,Xe.e,[Xe.f]),a._11(4608,ie.a,ie.a,[c.c,Xe.e]),a._11(4608,se,se,[a.o,ie.a]),a._11(4608,ue.a,ue.a,[c.c]),a._11(4608,de.a,de.a,[c.c]),a._11(4608,f.a,f.a,[]),a._11(4608,p.a,p.a,[]),a._11(4608,le.b,le.b,[c.c,f.a,p.a]),a._11(4608,l.a,l.a,[]),a._11(4608,h.a,h.a,[]),a._11(4608,ge,ge,[pe.a,l.a,p.a,h.a]),a._11(4608,ze.v,ze.v,[]),a._11(4608,ze.d,ze.d,[]),a._11(4608,_.a,_.a,[P.a,Ue.a]),a._11(4608,v.a,v.a,[P.a,Ue.a]),a._11(4608,Ye.a,Ye.a,[]),a._11(4608,Qe.a,Qe.a,[]),a._11(4608,Ze.a,Ze.a,[b.a]),a._11(4608,$e.a,$e.a,[Ue.a,b.a,a.u,Ve.a]),a._11(4608,k.a,k.a,[P.a,Ue.a]),a._11(5120,et.b,et.d,[P.a,et.a]),a._11(5120,Re.a,Re.b,[P.a,et.b,Xe.e,tt.b,a.i]),a._11(4608,S.a,S.a,[P.a,Ue.a,Re.a]),a._11(4608,nt.a,nt.a,[P.a,Ue.a]),a._11(4608,C.a,C.a,[P.a,Ue.a,Re.a]),a._11(4608,rt.a,rt.a,[Ue.a,b.a,Ve.a,P.a,xe.l]),a._11(4608,w.a,w.a,[P.a,Ue.a]),a._11(4608,De.a,De.a,[b.a,Ue.a]),a._11(4608,ot.b,ot.a,[]),a._11(4608,at.a,at.b,[]),a._11(4608,it.b,it.a,[]),a._11(4608,st.b,st.a,[]),a._11(4608,ct.a,ct.a,[]),a._11(4608,ut.a,ut.a,[ct.a,ot.b,at.a,it.b,st.b,ut.b,ut.c]),a._11(5120,dt.a,dt.c,[dt.b]),a._11(4608,m,m,[]),a._11(4608,y,y,[]),a._11(4608,d.a,d.a,[]),a._11(512,Xe.b,Xe.b,[]),a._11(512,a.k,lt.a,[]),a._11(256,Ue.b,{backButtonText:"",pageTransitionDelay:0,swipeBackEnabled:!1,preloadModules:!0},[]),a._11(1024,pt.a,pt.b,[]),a._11(1024,b.a,b.b,[o.b,pt.a,a.u]),a._11(1024,Ue.a,Ue.c,[Ue.b,b.a]),a._11(512,Ve.a,Ve.a,[b.a]),a._11(512,ft.a,ft.a,[]),a._11(512,P.a,P.a,[Ue.a,b.a,[2,ft.a]]),a._11(512,xe.l,xe.l,[P.a]),a._11(256,et.a,{links:[{loadChildren:"../pages/auth/auth.module.ngfactory#AuthPageModuleNgFactory",name:"AuthPage",segment:"auth",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/addcreditcard/addcreditcard.module.ngfactory#AddCreditCardPageModuleNgFactory",name:"AddCreditCardPage",segment:"addcreditcard",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/adddeposit/adddeposit.module.ngfactory#AddDepositPageModuleNgFactory",name:"AddDepositPage",segment:"adddeposit",priority:"low",defaultHistory:[]},{loadChildren:"../pages/findpassword/findpassword.module.ngfactory#FindPasswordPageModuleNgFactory",name:"FindPasswordPage",segment:"findpassword",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/branchcard/branchcard.module.ngfactory#BranchcardPageModuleNgFactory",name:"BranchcardPage",segment:"branchcard",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/cardinfor/cardinfor.module.ngfactory#CardInforPageModuleNgFactory",name:"CardInforPage",segment:"cardinfor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/changecards/changecards.module.ngfactory#ChangecardsPageModuleNgFactory",name:"ChangecardsPage",segment:"changecards",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/checkout/checkout.module.ngfactory#CheckoutPageModuleNgFactory",name:"CheckoutPage",segment:"checkout",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/confirminfo/confirminfo.module.ngfactory#ConfirminfoPageModuleNgFactory",name:"ConfirminfoPage",segment:"confirminfo",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/creditcard/creditcard.module.ngfactory#CreditCardPageModuleNgFactory",name:"CreditCardPage",segment:"creditcard",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/finalpay/finalpay.module.ngfactory#FinalpayPageModuleNgFactory",name:"FinalpayPage",segment:"finalpay",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"HomePage",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/listofbank/listofbank.module.ngfactory#ListofbankPageModuleNgFactory",name:"ListofbankPage",segment:"listofbank",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/resetpassword/resetpassword.module.ngfactory#ResetPasswordPageModuleNgFactory",name:"ResetPasswordPage",segment:"resetpassword/:mobile/:vcode",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"LoginPage",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/modifypassword/modifypassword.module.ngfactory#ModifyPasswordPageModuleNgFactory",name:"ModifyPasswordPage",segment:"modifypassword",priority:"low",defaultHistory:[]},{loadChildren:"../pages/register/register.module.ngfactory#RegisterPageModuleNgFactory",name:"RegisterPage",segment:"register",priority:"low",defaultHistory:[]},{loadChildren:"../pages/setpassword/setpassword.module.ngfactory#SetPasswordPageModuleNgFactory",name:"SetPasswordPage",segment:"setpassword",priority:"low",defaultHistory:[]},{loadChildren:"../pages/start/start.module.ngfactory#StartPageModuleNgFactory",name:"StartPage",segment:"start",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tabs/tabs.module.ngfactory#TabsPageModuleNgFactory",name:"TabsPage",segment:"tabs",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/mycard/mycard.module.ngfactory#MyCardPageModuleNgFactory",name:"MyCardPage",segment:"mycard",priority:"low",defaultHistory:[]},{loadChildren:"../pages/thirdparty/thirdparty.module.ngfactory#ThirdPartyPageModuleNgFactory",name:"ThirdPartyPage",segment:"thirdLogin/:mobile/:key",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/records/detail/recorddetail.module.ngfactory#OrdersPageModuleNgFactory",name:"OrderDetailPage",segment:"record/detail/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/records/records.module.ngfactory#RecordsPageModuleNgFactory",name:"RecordsPage",segment:"records",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/ucenter.module.ngfactory#UcenterPageModuleNgFactory",name:"UcenterPage",segment:"ucenter",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/uinfo/uinfo.module.ngfactory#UinfoPageModuleNgFactory",name:"UinfoPage",segment:"uinfo",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/usetup/usetup.module.ngfactory#UsetupPageModuleNgFactory",name:"UsetupPage",segment:"usetup",priority:"low",defaultHistory:[]},{loadChildren:"../pages/ucenter/VIPmembers/VIPmembers.module.ngfactory#VIPmembersPageModuleNgFactory",name:"VIPmembersPage",segment:"VIPmembers",priority:"low",defaultHistory:[]}]},[]),a._11(512,a.h,a.h,[]),a._11(512,ht.a,ht.a,[a.h]),a._11(1024,tt.b,tt.c,[ht.a,a.o]),a._11(1024,a.c,function(e,t,n,r,a,i,s,c,u,d,l,p,f){return[o.s(e),gt.a(t),Ye.b(n,r),rt.b(a,i,s,c,u),tt.d(d,l,p,f)]},[[2,a.t],Ue.a,b.a,Ve.a,Ue.a,b.a,Ve.a,P.a,xe.l,Ue.a,et.a,tt.b,a.u]),a._11(512,a.d,a.d,[[2,a.c]]),a._11(131584,a.f,a.f,[a.u,a.T,a.o,a.k,a.i,a.d]),a._11(512,a.e,a.e,[a.f]),a._11(512,o.a,o.a,[[3,o.a]]),a._11(512,c.e,c.e,[]),a._11(512,c.d,c.d,[]),a._11(512,ye,ye,[]),a._11(512,ze.t,ze.t,[]),a._11(512,ze.i,ze.i,[]),a._11(512,ze.q,ze.q,[]),a._11(512,Je.a,Je.a,[]),a._11(512,s.a,s.a,[]),a._11(512,u.a,u.a,[]),a._11(512,Se,Se,[]),a._11(256,c.m,"XSRF-TOKEN",[]),a._11(256,c.n,"X-XSRF-TOKEN",[]),a._11(256,Xe.a,"/",[]),a._11(256,ke.a,ce,[]),a._11(256,ut.c,void 0,[]),a._11(256,ut.b,void 0,[]),a._11(256,dt.b,null,[])])});Object(a.M)(),Object(o.j)().bootstrapModuleFactory(yt)},42:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e.UNDEFINED="undefined",e.BOOLEAN=typeof!0,e.NUMBER="number",e.STRING="string",e.OBJECT=typeof{},e.FUNCTION="function";function t(t){return typeof t!==e.UNDEFINED&&null!==t}e.Assigned=t;e.Defined=function(t){return typeof t!==e.UNDEFINED};e.IsNull=function(t){return typeof t!==e.UNDEFINED&&null===t};e.IsBoolean=function(t){return typeof t===e.BOOLEAN};e.IsNumber=function(t,n){return void 0===n&&(n=!0),typeof t===e.NUMBER&&(n||!isNaN(t))};e.IsTrueNaN=function(t){return typeof t===e.NUMBER&&isNaN(t)};function n(t){return typeof t===e.STRING}e.IsString=n;function r(t){switch(typeof t){case e.BOOLEAN:case e.STRING:case e.NUMBER:case e.UNDEFINED:return!0;case e.OBJECT:return null===t}return!1}e.IsPrimitive=r;function o(t){return typeof t===e.FUNCTION}e.IsFunction=o;e.IsObject=function(t,n){return void 0===n&&(n=!1),typeof t===e.OBJECT&&(n||null!==t)};e.IsEmptyObject=function(e,t){return void 0===t&&(t=!1),this.IsObject(e,t)&&"{}"===JSON.stringify(e)};e.IsArrayLike=function(e){return t(e)&&(e instanceof Array||n(e)||!o(e)&&a(e,"length"))};e.ZeroArray=function(e){if(e.fill)e.fill(0);else for(var t=0;t<e.length;t++)e[t]=0};e.ArrayCopy=function(e,t,n,r,o){if(void 0===o&&(o=0),t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var a=0;a<r;a++)e[o+a]=t[n+a]};e.NumberOrNaN=function(e){return isNaN(e)?NaN:e};function a(e,n){return t(e)&&!r(e)&&n in e}e.HasMember=a;e.HasMemberOfType=function(e,t,n){return a(e,t)&&typeof e[t]===n};e.Create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new e(t)};e.Sealed=function(){return function(e){Object.seal(e),Object.seal(e.prototype)}};e.StaticImplements=function(){return function(e){}}}(r||(r={})),Object.freeze(r)},55:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),o=n(15),a=(n.n(o),n(42)),i=n(66),s=n(88),c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},d=n(106),l=function(e){Object(r.__extends)(t,e);function t(t,n){var r=e.call(this,t)||this;return r.http=t,r.location=n,r.App=window.App,r.subject=new o.Subject,r}return Object.defineProperty(t.prototype,"currentUser",{get:function(){return this.subject.asObservable()},enumerable:!0,configurable:!0}),t.prototype.updateUser=function(e){this.subject.next(Object.assign({},e))},t.prototype.Login=function(e,t){var n=this;this.SetParam("mobile",e.toString()),this.SetParam("password",this.Md5T(t).toString()),this.Post("kpay/api/login").subscribe(function(e){e.code===i.a.REQ_OK&&(s.a.setToken(e.data.token),n.GetUserData(),App.Nav.push("TabsPage"))},function(e){console.log(e)})},t.prototype.GetFindPwdData=function(e,t){return this.SetParam("mobile",e.toString()),this.SetParam("veriCode",t),this.Post("kpay/api/checkPwdVeriCode")},t.prototype.GetResetPwdData=function(e){return this.SetParam("mobile",e.toString()),this.Post("kpay/api/getPwdVericode")},t.prototype.GetchangePsdData=function(e,t,n){return this.SetParam("mobile",e.toString()),this.SetParam("password",this.Md5T(t).toString()),this.SetParam("veriCode",n),this.Post("kpay/api/user/changePassword")},t.prototype.getPwdVericode=function(e){return this.SetParam("mobile",e),this.Post("kpay/api/getPwdVericode")},t.prototype.SignIn=function(e,t,n,r){return this.SetParam("mobile",e.toString()),this.SetParam("password",this.Md5T(t).toString()),this.SetParam("veriCode",n),r&&this.SetParam("referee",r),this.Post("kpay/api/register")},t.prototype.GetVerifyCode=function(e){return this.SetParam("mobile",e.toString()),this.Post("kpay/api/getVericode")},t.prototype.CheckVerifyCode=function(e,t){return this.SetParam("mobile",e.toString()),this.SetParam("veriCode",t),this.Post("kpay/api/checkRegVeriCode")},t.prototype.Logout=function(){s.a.removeToken(),App.UserInfo=null,App.DisableHardwareBackButton(),App.Nav.setPages([{page:App.pages.tabsPage},{page:App.pages.loginPage}])},Object.defineProperty(t.prototype,"IsLogin",{get:function(){return a.a.Assigned(s.a.getToken())},enumerable:!0,configurable:!0}),t.prototype.CheckToken=function(){return c(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.Post("kpay/api/checkToken").toPromise()];case 1:return[2,e.sent()]}})})},t.prototype.ModifyUserInfo=function(e){for(var t in e)this.SetParam(t,e[t]);this.Post("kpay/api/user/modify").subscribe(function(e){console.log(e)})},t.prototype.GetUserData=function(){var e=this;return this.Post("kpay/api/user/info").map(function(t){e.updateUser(t.data)}).subscribe(function(e){console.log(e)},function(e){console.log(e)})},t.prototype.thirdPartyLogin=function(e,t){var n=this;return s.a.setMobile(e),s.a.setSecret(t),this.SetParam("mobile",e),this.SetParam("key",t),this.Post("kpay/api/login/partner").subscribe(function(e){a.a.Assigned(e.data)&&!a.a.IsEmptyObject(e.data)?(s.a.setToken(e.data.token),n.GetUserData(),App.Nav.setPages([{page:"TabsPage"},{page:"CreditCardPage"}])):App.Nav.setRoot(App.pages.loginPage)},function(e){console.error(e)})},t.prototype.thirdPartyReLogin=function(){var e=s.a.getMobile(),t=s.a.getSecret();this.thirdPartyLogin(e,t)},t.prototype.shouldPassThrough=function(){return d.indexOf(["/register","/login","/findpassword","/home","/tabs/首页/home","/thirdlogin"],decodeURIComponent(this.location.path()).toLocaleLowerCase())>-1},t}(i.a)},66:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(34),o=n(131),a=n(287),i=(n.n(a),n(42)),s=n(88),c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},d="http://39.104.113.132",l=function(){function e(e){this.http=e,this.responseType="json",this.headers=new r.g({"Content-Type":"application/x-www-form-urlencoded"}),this.params=new o.b}return Object.defineProperty(e.prototype,"BaseUrl",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getToken",{get:function(){var e=s.a.getToken();return i.a.Assigned(e)?"Bearer "+e:""},enumerable:!0,configurable:!0}),e.prototype.SetHeader=function(e,t){this.headers.set(e,t)},e.prototype.Md5T=function(e){return a.Md5.hashStr(e.toString())},e.prototype.Get=function(e){return c(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.http.get(d+"/"+e,{headers:this.headers})];case 1:return[2,t.sent()]}})})},e.prototype.Post=function(e,t){var n=d+"/"+e,r=this.params.toString();return this.setNewParams(),this.http.post(n,r,{headers:this.headers,responseType:this.responseType})},e.prototype.SetParam=function(e,t){this.params.has(e)?this.params.set(e,t):this.params.append(e,t)},e.prototype.SetResponseType=function(e){this.responseType=e},e.prototype.setNewParams=function(){this.params=new o.b},e.REQ_OK=1,e.REQ_FAIL=0,e.SESSION_TIMEOUT=2,e}()},88:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e.setToken=function(t){localStorage.setItem(e.tokenKey,t)},e.setMobile=function(t){localStorage.setItem(e.mobileKey,t)},e.setSecret=function(t){localStorage.setItem(e.secretKey,t)},e.getToken=function(){return localStorage.getItem(e.tokenKey)},e.removeToken=function(){return localStorage.removeItem(e.tokenKey)},e.getMobile=function(){return localStorage.getItem(e.mobileKey)},e.getSecret=function(){return localStorage.getItem(e.secretKey)},e.tokenKey="token",e.mobileKey="mobile",e.secretKey="third_party_secret",e}()}},[268]);