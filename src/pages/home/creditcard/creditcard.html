<ion-header no-border>
  <ion-toolbar no-padding>
    <app-toolbar HasBack="true" [Title]="HeadTitle"></app-toolbar>
  </ion-toolbar>
</ion-header>
<ion-content class="h-creditcard-page">
  <ion-grid class="page-content" p-h-10>
    <ion-row justify-content-center>
      <ion-col col-12>
        <ion-label>付款信用卡</ion-label>
      </ion-col>
      <!-- 未添加信用卡 -->
      <ion-col col-12 class="card no-card" text-center *ngIf="!CurrentCreditCard">
        <button ion-button icon-left class="bg-transparent" (click)="AddCreditCard()">
          <ion-icon name="add-circle" color="primary"></ion-icon>
          <span ion-text color="primary">添加信用卡</span>
        </button>
      </ion-col>
      <!-- 未添加信用卡 -->

      <!-- 已添加信用卡 -->
      <ion-col col-12 class="d-flex flex-column justify-content-between card has-card" p-h-10 p-v-5 *ngIf="CurrentCreditCard">
        <ion-row>
          <ion-col col-10>
            <ion-row>
              <ion-col col-12 class="d-flex align-items-center" no-padding>
                <img class="icon-bank" src="assets/banklogo/bank_{{CurrentCreditCard.code}}.png" alt="{{CurrentCreditCard.bank}}" />
                <span ion-text f-15 text-light m-l-5>{{CurrentCreditCard.bank}}</span>
              </ion-col>
            </ion-row>
            <ion-row m-t-20>
              <ion-col col-12 no-padding>
                <span ion-text text-light>**** **** **** {{CurrentCreditCard.cardNo}}</span>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col col-2 text-right>
            <button type="button" ion-button class="bg-transparent btn-change" (click)="ChangeCreditCard()" no-padding no-margin>更换</button>
          </ion-col>
        </ion-row>
      </ion-col>
      <!-- 已添加信用卡 -->
    </ion-row>
    <ion-row justify-content-center>
      <ion-col col-12>
        <ion-label>收款储蓄卡</ion-label>
      </ion-col>
      <!-- 未添加储蓄卡 -->
      <ion-col col-12 class="card no-card" text-center *ngIf="!CurrentDepositCard">
        <button ion-button icon-left class="bg-transparent" (click)="AddDepositCard()">
          <ion-icon name="add-circle" color="primary"></ion-icon>
          <span ion-text color="primary">添加储蓄卡</span>
        </button>
      </ion-col>
      <!-- 未添加储蓄卡 -->

      <!-- 已添加储蓄卡 -->
      <ion-col col-12 class="d-flex flex-column justify-content-between card has-card" p-h-10 p-v-5 *ngIf="CurrentDepositCard">
        <ion-row>
          <ion-col col-10>
            <ion-row>
              <ion-col col-12 class="d-flex align-items-center" no-padding>
                <img class="icon-bank" src="assets/banklogo/bank_{{CurrentDepositCard.code}}.png" alt="{{CurrentDepositCard.bank}}" />
                <span ion-text f-15 text-light m-l-5>{{CurrentDepositCard.bank}}</span>
              </ion-col>
            </ion-row>
            <ion-row m-t-20>
              <ion-col col-12 no-padding>
                <span ion-text text-light>**** **** **** {{CurrentDepositCard.cardNo}}</span>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col col-2 text-right>
            <button type="button" ion-button class="bg-transparent btn-change" (click)="ChangeDepositCard()" no-padding no-margin>更换</button>
          </ion-col>
        </ion-row>
      </ion-col>
      <!-- 已添加储蓄卡 -->
    </ion-row>
  </ion-grid>
  <ion-grid class="page-content" m-t-10 p-b-10>
    <ion-row class="border-bottom-1px">
      <ion-col>
        <ion-label>收款金额(元)</ion-label>
      </ion-col>
      <ion-col col-12>
        <ion-input type="number" name="amount" [(ngModel)]="amount.inputAmount" 
          (ngModelChange)="OnCahngeInputAmount()" 
          no-margin f-30 placeholder="500-20000" p-l-5></ion-input>
      </ion-col>
    </ion-row>
    <ion-row p-t-5>
      <ion-col class="l-h-d">
        <p ion-text class="text-fee">费率：{{Rate}}%+3元，保底8元</p>
        <p ion-text class="text-t">交易时间：9:00-21:00，立即到账</p>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <button type="button" class="btn-default" ion-button full [disabled]="!CanGoNext" [class.btn-disabled]="!CanGoNext" (click)="ConfirmPay()">下一步</button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid class="popup" no-padding *ngIf="ShowFlow">
    <ion-row class="mask" no-padding>
      <ion-col col-12 text-center>
        <img class="flow" src="assets/imgs/flow.png" alt="刷卡流程" />
      </ion-col>
      <ion-col col-12 text-center>
        <button class="bg-transparent" (click)="OnCloseFlow()">
          <img class="close" src="assets/imgs/close.png" alt="关闭" />
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
